<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,initial-scale=1.0,width=device-width"/>
		<title>颜色选择</title>
	</head>
	<style>
		body {
			background-color: #fff;
		}
	</style>
	<body>
		<div data-role="page" id="rgbctrl">
			<canvas id="colorPicker1" width="250" height="250"></canvas>
		</div>
	</body>
	<script type="text/javascript">
		apiready = function() {
			var chromeDebug = api.require('chromeDebug');
			chromeDebug.openDebug(function(ret, err) {
				if (212 == ret.code) {
					alert(JSON.stringify(ret));
				} else {
					console.log(ret);
				}
			});
		};
	</script>
	<!--以下是画圆圈的-->
	<script type="text/javascript" src="../script/colorPicker.js"></script>
	<script>
		//亮度和饱和度
		//		var bsliderMask;
		//		var ssliderMask;
		//是否开灯
		//		var rgb_switch;rgb_hues
		//		var width = 0.69 * document.body.clientWidth;
		//				var width = 0.4 * document.body.clientHeight;
		//按钮的高度,手机会有少许偏移，所以设成上移3个px
		//		var switchbttop = width / 2 - 3;
		//		var switchbleft = (document.body.clientWidth / 2) - 41;
		//		var width = 250;
		//上次的color指数
		//		var lastrgbcode;
		//		console.log("width = " + width);
		//		$('#colorPicker1').attr('width', width).attr('height', width);
		//		$('#rgbonoffbtn').css('margin-top', switchbttop).css('margin-left', switchbleft);
		var colorPicker = new colorPicker(document.getElementById('colorPicker1'), {
			h : 0.5,
			s : 5,
			v : 0,
			bgcolor : '#fff'
		}, function(ret) {
			console.info("ret ---> ");
			console.info(ret);
		});
		//		test Beging
		colorPicker.setColorHSV(0.7528, 0.5, 1);
		//		test end
		//设置控制手环的初始位置
		function setcirclesit(rgb_hues) {
			//					colorPicker.setColorHSV(rgb_hues, 5, 0);
		}

		//
		function ctrlrgb() {
			//					rgbctrlinterval = self.setInterval("sendrgbcode()", 1 * 1000);
		}

		//
		//		function sendrgbcode() {
		//			var color = colorPicker.getColorHSV();
		//			var colorcode = parseInt(color.h * 360);
		//			var brightcode = $('#brightspanid').val();
		//			var satcode = $('#satspanid').val();
		//			//			var rgbcode = '{"5":true,"6":' + colorcode + ',"7":' + satcode + ',"8":' + brightcode + '}';
		//			var rgbcode = '{"' + RGB_SWI_KEY + '":true,"' + RGB_HUES_KEY + '":' + colorcode + ',"' + RGB_SATU_KEY + '":' + satcode + ',"' + RGB_BRIGHT_KEY + '":' + brightcode + '}';
		//			if (lastrgbcode == rgbcode) {
		//				//没更新，不做处理
		//			} else {
		//				if ("../image/switchon.svg" == $("#rgbonoffbtn").attr("src")) {
		//					micoPublish(DEVID_GLOBAL + "/in/write/" + app1, rgbcode);
		//					lastrgbcode = rgbcode;
		//				}
		//			}
		//		}
		//
		//		function sliderctrl() {
		//			//亮度
		//			bsliderMask = new Dragdealer('brightslider', {
		//				animationCallback : function(x, y) {
		//					$('#brightspanid').val(Math.round(x * 100));
		//				}
		//			});
		//			bsliderMask.setValue(rgb_bright, 0, true);
		//			//饱和度
		//			ssliderMask = new Dragdealer('satslider', {
		//				animationCallback : function(x, y) {
		//					$('#satspanid').val(Math.round(x * 100));
		//				}
		//			});
		//			ssliderMask.setValue(rgb_statu, 0, true);
		//		}
	</script>
</html>